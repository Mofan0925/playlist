{"ast":null,"code":"var _jsxFileName = \"H:\\\\\\u524D\\u7AEF\\\\react\\\\Node-Search\\\\router\\\\src\\\\index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Home from \"./Home\";\n/*Path:要渲染的URL，没有Path属性的时候将匹配任意路由\n * Component：要渲染的组件\n * exact: 精确匹配\n * strict： 严格匹配、考虑路径结尾的/\n * */\n\nexport default class App extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.now = 0;\n    this.state = {\n      data: [{\n        id: 0,\n        title: \"111\",\n        singer: \"111\",\n        selected: false,\n        like: false\n      }, {\n        id: 1,\n        title: \"222\",\n        singer: \"222\",\n        selected: false,\n        like: false\n      }, {\n        id: 2,\n        title: \"333\",\n        singer: \"333\",\n        selected: false,\n        like: false\n      }]\n    };\n    this.add = this.add.bind(this);\n    this.setCheckAll = this.setCheckAll.bind(this);\n    this.setCheck = this.setCheck.bind(this);\n    this.setLike = this.setLike.bind(this);\n    this.remove = this.remove.bind(this);\n    this.removeSelect = this.removeSelect.bind(this);\n    this.likeSelect = this.likeSelect.bind(this);\n    this.cancelLikeSelect = this.cancelLikeSelect.bind(this);\n  }\n\n  add(title, singer) {\n    let data = this.state.data;\n    data.push({\n      id: this.now,\n      title: title,\n      singer: singer,\n      selected: false,\n      like: false\n    });\n    this.now++;\n    this.setState({\n      data\n    });\n  }\n\n  isCheckAll() {\n    let data = this.state.data;\n\n    for (let i = 0; i < data.length; i++) {\n      if (!data[i].selected) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  setCheckAll(checked) {\n    let data = this.state.data.map(val => {\n      val.selected = checked;\n      return val;\n    });\n    this.setState({\n      data\n    });\n  }\n\n  setCheck(index, checked) {\n    let data = this.state.data;\n    data.forEach(val => {\n      if (val.id === index) {\n        val.selected = checked;\n      }\n    });\n    this.setState({\n      data\n    });\n  }\n\n  setLike(index, checked) {\n    let data = this.state.data;\n    data.forEach(val => {\n      if (val.id === index) {\n        val.like = checked;\n      }\n    });\n    this.setState({\n      data\n    });\n  }\n\n  remove(index) {\n    let data = this.state.data.filter(val => val.id !== index);\n    this.setState({\n      data\n    });\n  }\n\n  removeSelect() {\n    let data = this.state.data.filter(val => !val.selected);\n    this.setState({\n      data\n    });\n  }\n\n  likeSelect() {\n    let data = this.state.data.map(val => {\n      if (val.selected) {\n        val.like = true;\n      }\n\n      return val;\n    });\n    this.setState({\n      data\n    });\n  }\n\n  cancelLikeSelect() {\n    let data = this.state.data.map(val => {\n      if (val.selected) {\n        val.like = false;\n      }\n\n      return val;\n    });\n    this.setState({\n      data\n    });\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (!nextState.listState) {\n      let likeData = nextState.data.filter(val => val.like);\n\n      if (!likeData.length) {\n        this.setState({\n          listState: true\n        });\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  render() {\n    console.log(this.state.data);\n    return React.createElement(BrowserRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"musicApp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/\",\n      render: () => {\n        return React.createElement(Home, {\n          data: this.state.data,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }))));\n  }\n\n}\nReactDOM.render(React.createElement(App, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 162\n  },\n  __self: this\n}), document.getElementById('root'));","map":{"version":3,"sources":["H:/前端/react/Node-Search/router/src/index.js"],"names":["React","ReactDOM","BrowserRouter","Switch","Route","Home","App","Component","constructor","arguments","now","state","data","id","title","singer","selected","like","add","bind","setCheckAll","setCheck","setLike","remove","removeSelect","likeSelect","cancelLikeSelect","push","setState","isCheckAll","i","length","checked","map","val","index","forEach","filter","shouldComponentUpdate","nextProps","nextState","listState","likeData","render","console","log","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter,Switch,Route} from \"react-router-dom\";\nimport Home from \"./Home\";\n\n/*Path:要渲染的URL，没有Path属性的时候将匹配任意路由\n * Component：要渲染的组件\n * exact: 精确匹配\n * strict： 严格匹配、考虑路径结尾的/\n * */\nexport default class App extends React.Component{\n    constructor(){\n        super(...arguments);\n        this.now = 0;\n        this.state={\n            data:[{\n                id:0,\n                title: \"111\",\n                singer: \"111\",\n                selected: false,\n                like: false,\n            },{\n                id:1,\n                title: \"222\",\n                singer: \"222\",\n                selected: false,\n                like: false,\n            },{\n                id:2,\n                title: \"333\",\n                singer: \"333\",\n                selected: false,\n                like: false,\n            }]\n        };\n        this.add = this.add.bind(this);\n        this.setCheckAll = this.setCheckAll.bind(this);\n        this.setCheck = this.setCheck.bind(this);\n        this.setLike = this.setLike.bind(this);\n        this.remove = this.remove.bind(this);\n        this.removeSelect = this.removeSelect.bind(this);\n        this.likeSelect = this.likeSelect.bind(this);\n        this.cancelLikeSelect = this.cancelLikeSelect.bind(this);\n    }\n    add(title,singer){\n        let data = this.state.data;\n        data.push({\n            id: this.now,\n            title: title,\n            singer: singer,\n            selected: false,\n            like: false\n        });\n        this.now++;\n        this.setState({\n            data\n        })\n    }\n    isCheckAll(){\n        let data = this.state.data;\n        for(let i = 0; i < data.length; i++){\n            if(!data[i].selected){\n                return false;\n            }\n        }\n        return true;\n    }\n    setCheckAll(checked){\n        let data = this.state.data.map((val)=>{\n            val.selected = checked;\n            return val;\n        });\n        this.setState({\n            data\n        })\n    }\n    setCheck(index,checked){\n        let data = this.state.data;\n        data.forEach((val)=>{\n            if(val.id === index){\n                val.selected = checked;\n            }\n        });\n        this.setState({\n            data\n        })\n    }\n    setLike(index,checked){\n        let data = this.state.data;\n        data.forEach((val)=>{\n            if(val.id === index){\n                val.like = checked;\n            }\n        });\n        this.setState({\n            data\n        })\n    }\n    remove(index){\n        let data = this.state.data.filter((val)=>val.id!==index);\n        this.setState({\n            data\n        })\n    }\n    removeSelect(){\n        let data = this.state.data.filter((val)=>!val.selected);\n        this.setState({\n            data\n        })\n    }\n    likeSelect(){\n        let data = this.state.data.map((val)=>{\n            if(val.selected){\n                val.like = true;\n            }\n            return val;\n        });\n        this.setState({\n            data\n        })\n    }\n    cancelLikeSelect(){\n        let data = this.state.data.map((val)=>{\n            if(val.selected){\n                val.like = false;\n            }\n            return val;\n        });\n        this.setState({\n            data\n        })\n    }\n    shouldComponentUpdate(nextProps,nextState){\n        if(!nextState.listState){\n            let likeData = nextState.data.filter((val)=>val.like);\n            if(!likeData.length){\n                this.setState({\n                    listState: true\n                });\n                return false;\n            }\n        }\n        return true;\n    }\n    render () {\n        console.log(this.state.data);\n        return (\n        <BrowserRouter>\n            <div id=\"musicApp\">\n                <Switch>\n                 <Route path=\"/\" render={()=>{\n                     return <Home\n                         data={this.state.data}\n                     />\n                 }}/>\n                </Switch>\n            </div>\n        </BrowserRouter>\n        )\n    }\n}\nReactDOM.render(<App/>,document.getElementById('root'));\n\n\n"]},"metadata":{},"sourceType":"module"}