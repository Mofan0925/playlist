{"ast":null,"code":"var _jsxFileName = \"H:\\\\\\u524D\\u7AEF\\\\react\\\\Node-Search\\\\router\\\\src\\\\index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Home from \"./Home\";\n/*Path:要渲染的URL，没有Path属性的时候将匹配任意路由\n * Component：要渲染的组件\n * exact: 精确匹配\n * strict： 严格匹配、考虑路径结尾的/\n * */\n\nexport default class App extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.now = 0;\n    this.state = {\n      data: [{\n        id: 0,\n        title: \"111\",\n        singer: \"111\",\n        selected: false,\n        like: false\n      }, {\n        id: 1,\n        title: \"222\",\n        singer: \"222\",\n        selected: false,\n        like: false\n      }, {\n        id: 2,\n        title: \"333\",\n        singer: \"333\",\n        selected: false,\n        like: false\n      }]\n    };\n    this.add = this.add.bind(this);\n    this.setCheckAll = this.setCheckAll.bind(this);\n    this.setCheck = this.setCheck.bind(this);\n    this.setLike = this.setLike.bind(this);\n    this.remove = this.remove.bind(this);\n    this.removeSelect = this.removeSelect.bind(this);\n    this.likeSelect = this.likeSelect.bind(this);\n    this.cancelLikeSelect = this.cancelLikeSelect.bind(this);\n  }\n\n  add(title, singer) {\n    let data = this.state.data;\n    data.push({\n      id: this.now,\n      title: title,\n      singer: singer,\n      selected: false,\n      like: false\n    });\n    this.now++;\n    this.setState({\n      data\n    });\n  }\n\n  isCheckAll() {\n    let data = this.state.data;\n\n    for (let i = 0; i < data.length; i++) {\n      if (!data[i].selected) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  setCheckAll(checked) {\n    let data = this.state.data.map(val => {\n      val.selected = checked;\n      return val;\n    });\n    this.setState({\n      data\n    });\n  }\n\n  setCheck(index, checked) {\n    let data = this.state.data;\n    data.forEach(val => {\n      if (val.id === index) {\n        val.selected = checked;\n      }\n    });\n    this.setState({\n      data\n    });\n  }\n\n  setLike(index, checked) {\n    let data = this.state.data;\n    data.forEach(val => {\n      if (val.id === index) {\n        val.like = checked;\n      }\n    });\n    this.setState({\n      data\n    });\n  }\n\n  remove(index) {\n    let data = this.state.data.filter(val => val.id !== index);\n    this.setState({\n      data\n    });\n  }\n\n  removeSelect() {\n    let data = this.state.data.filter(val => !val.selected);\n    this.setState({\n      data\n    });\n  }\n\n  likeSelect() {\n    let data = this.state.data.map(val => {\n      if (val.selected) {\n        val.like = true;\n      }\n\n      return val;\n    });\n    this.setState({\n      data\n    });\n  }\n\n  cancelLikeSelect() {\n    let data = this.state.data.map(val => {\n      if (val.selected) {\n        val.like = false;\n      }\n\n      return val;\n    });\n    this.setState({\n      data\n    });\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (!nextState.listState) {\n      let likeData = nextState.data.filter(val => val.like);\n\n      if (!likeData.length) {\n        this.setState({\n          listState: true\n        });\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  render() {\n    console.log(this.state.data);\n    return React.createElement(BrowserRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"musicApp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/\",\n      render: () => {\n        return React.createElement(Home, {\n          data: this.state.data,\n          isCheckAll: this.isCheckAll(),\n          checkAll: this.setCheckAll,\n          setCheck: this.setCheck,\n          setLike: this.setLike,\n          remove: this.remove,\n          removeSelect: this.removeSelect,\n          likeSelect: this.likeSelect,\n          cancelLikeSelect: this.cancelLikeSelect,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }))));\n  }\n\n}\nReactDOM.render(React.createElement(App, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 181\n  },\n  __self: this\n}), document.getElementById('root'));","map":{"version":3,"sources":["H:/前端/react/Node-Search/router/src/index.js"],"names":["React","ReactDOM","BrowserRouter","Switch","Route","Home","App","Component","constructor","arguments","now","state","data","id","title","singer","selected","like","add","bind","setCheckAll","setCheck","setLike","remove","removeSelect","likeSelect","cancelLikeSelect","push","setState","isCheckAll","i","length","checked","map","val","index","forEach","filter","shouldComponentUpdate","nextProps","nextState","listState","likeData","render","console","log","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter,Switch,Route} from \"react-router-dom\";\nimport Home from \"./Home\";\n\n/*Path:要渲染的URL，没有Path属性的时候将匹配任意路由\n * Component：要渲染的组件\n * exact: 精确匹配\n * strict： 严格匹配、考虑路径结尾的/\n * */\nexport default class App extends React.Component {\n    constructor () {\n        super ( ...arguments );\n        this.now = 0;\n        this.state = {\n            data : [ {\n                id : 0 ,\n                title : \"111\" ,\n                singer : \"111\" ,\n                selected : false ,\n                like : false ,\n            } , {\n                id : 1 ,\n                title : \"222\" ,\n                singer : \"222\" ,\n                selected : false ,\n                like : false ,\n            } , {\n                id : 2 ,\n                title : \"333\" ,\n                singer : \"333\" ,\n                selected : false ,\n                like : false ,\n            } ]\n        };\n        this.add = this.add.bind ( this );\n        this.setCheckAll = this.setCheckAll.bind ( this );\n        this.setCheck = this.setCheck.bind ( this );\n        this.setLike = this.setLike.bind ( this );\n        this.remove = this.remove.bind ( this );\n        this.removeSelect = this.removeSelect.bind ( this );\n        this.likeSelect = this.likeSelect.bind ( this );\n        this.cancelLikeSelect = this.cancelLikeSelect.bind ( this );\n    }\n\n    add ( title , singer ) {\n        let data = this.state.data;\n        data.push ( {\n            id : this.now ,\n            title : title ,\n            singer : singer ,\n            selected : false ,\n            like : false\n        } );\n        this.now ++;\n        this.setState ( {\n            data\n        } )\n    }\n\n    isCheckAll () {\n        let data = this.state.data;\n        for ( let i = 0 ; i < data.length ; i ++ ) {\n            if ( ! data[ i ].selected ) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    setCheckAll ( checked ) {\n        let data = this.state.data.map ( ( val )=> {\n            val.selected = checked;\n            return val;\n        } );\n        this.setState ( {\n            data\n        } )\n    }\n\n    setCheck ( index , checked ) {\n        let data = this.state.data;\n        data.forEach ( ( val )=> {\n            if ( val.id === index ) {\n                val.selected = checked;\n            }\n        } );\n        this.setState ( {\n            data\n        } )\n    }\n\n    setLike ( index , checked ) {\n        let data = this.state.data;\n        data.forEach ( ( val )=> {\n            if ( val.id === index ) {\n                val.like = checked;\n            }\n        } );\n        this.setState ( {\n            data\n        } )\n    }\n\n    remove ( index ) {\n        let data = this.state.data.filter ( ( val )=>val.id !== index );\n        this.setState ( {\n            data\n        } )\n    }\n\n    removeSelect () {\n        let data = this.state.data.filter ( ( val )=>! val.selected );\n        this.setState ( {\n            data\n        } )\n    }\n\n    likeSelect () {\n        let data = this.state.data.map ( ( val )=> {\n            if ( val.selected ) {\n                val.like = true;\n            }\n            return val;\n        } );\n        this.setState ( {\n            data\n        } )\n    }\n\n    cancelLikeSelect () {\n        let data = this.state.data.map ( ( val )=> {\n            if ( val.selected ) {\n                val.like = false;\n            }\n            return val;\n        } );\n        this.setState ( {\n            data\n        } )\n    }\n\n    shouldComponentUpdate ( nextProps , nextState ) {\n        if ( ! nextState.listState ) {\n            let likeData = nextState.data.filter ( ( val )=>val.like );\n            if ( ! likeData.length ) {\n                this.setState ( {\n                    listState : true\n                } );\n                return false;\n            }\n        }\n        return true;\n    }\n\n    render () {\n        console.log ( this.state.data );\n        return (\n            <BrowserRouter>\n                <div id=\"musicApp\">\n                    <Switch>\n                        <Route path=\"/\" render={()=>{\n                     return <Home\n                                   data={this.state.data}\n                                    isCheckAll = {this.isCheckAll()}\n                                    checkAll = {this.setCheckAll}\n                                    setCheck = {this.setCheck}\n                                    setLike = {this.setLike}\n                                    remove = {this.remove}\n                                    removeSelect = {this.removeSelect}\n                                    likeSelect = {this.likeSelect}\n                                    cancelLikeSelect = {this.cancelLikeSelect}\n                     />\n                 }}/>\n                    </Switch>\n                </div>\n            </BrowserRouter>\n        )\n    }\n}\nReactDOM.render (<App/> , document.getElementById ( 'root' ) );\n\n\n"]},"metadata":{},"sourceType":"module"}